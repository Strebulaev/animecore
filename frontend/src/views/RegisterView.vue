<template>
    <div class="auth-page">
      <nav class="navbar">
        <div class="container">
          <router-link to="/" class="logo">üéå AnimeCore</router-link>
        </div>
      </nav>
  
      <div class="container auth-container">
        <div class="auth-card">
          <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
          <p class="auth-subtitle">–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</p>
          
          <form @submit.prevent="handleRegister" class="auth-form">
            <div class="form-group">
              <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
              <input
                v-model="form.username"
                type="text"
                id="username"
                placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
                required
              />
            </div>
            
            <div class="form-group">
              <label for="email">Email</label>
              <input
                v-model="form.email"
                type="email"
                id="email"
                placeholder="–í–≤–µ–¥–∏—Ç–µ email"
                required
              />
            </div>
            
            <div class="form-group">
              <label for="password">–ü–∞—Ä–æ–ª—å</label>
              <input
                v-model="form.password"
                type="password"
                id="password"
                placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å"
                required
              />
            </div>
            
            <div class="form-group">
              <label for="confirmPassword">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</label>
              <input
                v-model="form.confirmPassword"
                type="password"
                id="confirmPassword"
                placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
                required
              />
            </div>
            
            <button type="submit" class="btn btn-primary btn-block" :disabled="loading">
              {{ loading ? '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...' : '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è' }}
            </button>
          </form>
          
          <div class="auth-footer">
            <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <router-link to="/login">–í–æ–π—Ç–∏</router-link></p>
            <router-link to="/" class="back-link">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</router-link>
          </div>
        </div>
      </div>
    </div>
  </template>
  
  <script setup lang="ts">
  import { ref } from 'vue'
  import { useRouter } from 'vue-router'
  
  const router = useRouter()
  const loading = ref(false)
  const form = ref({
    username: '',
    email: '',
    password: '',
    confirmPassword: ''
  })
  
  const handleRegister = async () => {
    if (form.value.password !== form.value.confirmPassword) {
      alert('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç')
      return
    }
    
    loading.value = true
    // TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
    setTimeout(() => {
      loading.value = false
      router.push('/login')
    }, 1000)
  }
  </script>
  
  <style scoped>
  /* –°—Ç–∏–ª–∏ —Ç–∞–∫–∏–µ –∂–µ –∫–∞–∫ –≤ LoginView */
  </style>